/**
 * Base CSS - RTO Calendar Package
 * Contains CSS custom properties, reset styles, and base layout
 *
 * Philosophy: Distinctive, accessible, maintainable styling system
 */

/* ============================================
   CSS Custom Properties (Design Tokens)
   ============================================ */

:root {
	/* Colors - Slate Palette (Color Blind Friendly) */
	/* Primary actions and compliant states */
	--rto-calendar-primary: #475569; /* Slate-600 */
	--rto-calendar-primary-hover: #334155; /* Slate-700 */
	--rto-calendar-primary-light: #e2e8f0; /* Slate-200 */

	/* Secondary actions and OOF states */
	--rto-calendar-secondary: #64748b; /* Slate-500 */
	--rto-calendar-secondary-hover: #475569; /* Slate-600 */
	--rto-calendar-secondary-light: #f1f5f9; /* Slate-100 */

	/* Violation/Warning states */
	--rto-calendar-error: #334155; /* Slate-700 - using darker slate for issues */
	--rto-calendar-error-bg: #f1f5f9; /* Slate-100 */
	--rto-calendar-warning: #94a3b8; /* Slate-400 */

	/* Holiday colors (distinct from slate) */
	--rto-calendar-holiday: #d97706; /* Amber-600 */
	--rto-calendar-holiday-bg: #fffbeb; /* Amber-50 */
	--rto-calendar-holiday-border: #fcd34d; /* Amber-300 */
	--rto-calendar-holiday-text: #92400e; /* Amber-800 */

	/* Text colors */
	--rto-calendar-text: #1e293b; /* Slate-800 */
	--rto-calendar-text-muted: #64748b; /* Slate-500 */
	--rto-calendar-text-light: #f1f5f9; /* Slate-100 */

	/* Background colors */
	--rto-calendar-bg: #ffffff;
	--rto-calendar-bg-alt: #f8fafc; /* Slate-50 */
	--rto-calendar-bg-weekend: #f1f5f9; /* Slate-100 */
	--rto-calendar-bg-past: #94a3b8; /* Slate-400 */

	/* Border colors */
	--rto-calendar-border: #e2e8f0; /* Slate-200 */
	--rto-calendar-border-hover: #94a3b8; /* Slate-400 */
	--rto-calendar-border-focus: #475569; /* Slate-600 */

	/* Focus ring */
	--rto-calendar-focus: #475569; /* Slate-600 */
	--rto-calendar-focus-offset: 2px;

	/* Spacing */
	--rto-calendar-spacing-xs: 0.125rem; /* 2px */
	--rto-calendar-spacing-sm: 0.25rem; /* 4px */
	--rto-calendar-spacing-md: 0.5rem; /* 8px */
	--rto-calendar-spacing-lg: 1rem; /* 16px */
	--rto-calendar-spacing-xl: 1.5rem; /* 24px */

	/* Border radius */
	--rto-calendar-radius-sm: 4px;
	--rto-calendar-radius-md: 6px;
	--rto-calendar-radius-lg: 8px;

	/* Typography */
	--rto-calendar-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
	--rto-calendar-font-size-xs: 0.75rem;
	--rto-calendar-font-size-sm: 0.875rem;
	--rto-calendar-font-size-base: 1rem;
	--rto-calendar-font-size-lg: 1.125rem;
	--rto-calendar-font-size-xl: 1.25rem;
	--rto-calendar-font-weight-normal: 400;
	--rto-calendar-font-weight-medium: 500;
	--rto-calendar-font-weight-semibold: 600;
	--rto-calendar-font-weight-bold: 700;

	/* Transitions */
	--rto-calendar-transition-fast: 150ms ease-out;
	--rto-calendar-transition-base: 200ms ease-out;
	--rto-calendar-transition-slow: 300ms ease-out;

	/* Shadows */
	--rto-calendar-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
	--rto-calendar-shadow-md: 0 2px 4px rgba(0, 0, 0, 0.1);
	--rto-calendar-shadow-lg: 0 4px 6px rgba(0, 0, 0, 0.1);

	/* Calendar-specific */
	--rto-calendar-day-cell-size: 36px;
	--rto-calendar-grid-gap: 0.125rem;
	--rto-calendar-month-gap: 1rem;
}

/* ============================================
   Reset & Base Styles
   ============================================ */

/* Reset box-sizing */
*,
*::before,
*::after {
	box-sizing: border-box;
}

/* Reset margins */
.rto-calendar,
.rto-calendar * {
	margin: 0;
	padding: 0;
}

/* ============================================
   Grid Layout Base Styles
   ============================================ */

.rto-calendar {
	display: flex;
	flex-direction: column;
	gap: var(--rto-calendar-month-gap);
	font-family: var(--rto-calendar-font-family);
	color: var(--rto-calendar-text);
	line-height: 1.5;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Month container */
.rto-calendar__month {
	display: flex;
	flex-direction: column;
	gap: var(--rto-calendar-spacing-sm);
}

/* Month label */
.rto-calendar__month-label {
	font-size: var(--rto-calendar-font-size-lg);
	font-weight: var(--rto-calendar-font-weight-semibold);
	color: var(--rto-calendar-text);
	text-align: center;
	padding: var(--rto-calendar-spacing-md);
}

/* Weekday headers row */
.rto-calendar__weekdays {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: var(--rto-calendar-grid-gap);
	margin-bottom: var(--rto-calendar-spacing-sm);
}

.rto-calendar__weekday {
	font-size: var(--rto-calendar-font-size-xs);
	font-weight: var(--rto-calendar-font-weight-semibold);
	text-align: center;
	color: var(--rto-calendar-text-muted);
	text-transform: uppercase;
	letter-spacing: 0.05em;
	padding: var(--rto-calendar-spacing-sm);
}

/* Days grid - 7 columns (one for each day of week) */
.rto-calendar__days {
	display: grid;
	grid-template-columns: repeat(7, 1fr);
	gap: var(--rto-calendar-grid-gap);
}

/* Day cells */
.rto-calendar__day {
	aspect-ratio: 1;
	display: flex;
	align-items: center;
	justify-content: center;
	font-size: var(--rto-calendar-font-size-sm);
	border: 1px solid var(--rto-calendar-border);
	border-radius: var(--rto-calendar-radius-md);
	background-color: var(--rto-calendar-bg);
	cursor: pointer;
	transition: all var(--rto-calendar-transition-base);
	user-select: none;
	position: relative;
}

.rto-calendar__day:hover:not(.rto-calendar__day--empty) {
	border-color: var(--rto-calendar-border-hover);
	transform: scale(1.05);
	z-index: 1;
	box-shadow: var(--rto-calendar-shadow-md);
}

.rto-calendar__day--empty {
	visibility: hidden;
	cursor: default;
}

/* Day number */
.rto-calendar__day-number {
	font-weight: var(--rto-calendar-font-weight-normal);
	position: relative;
	z-index: 1;
}

/* ============================================
   Accessibility - Focus Styles
   ============================================ */

/* Focus visible for keyboard navigation */
.rto-calendar__day:focus-visible {
	outline: 2px solid var(--rto-calendar-focus);
	outline-offset: var(--rto-calendar-focus-offset);
	box-shadow: 0 0 0 4px rgba(71, 85, 105, 0.2);
}

/* High contrast mode focus */
@media (prefers-contrast: high) {
	.rto-calendar__day:focus-visible {
		outline-width: 3px;
		box-shadow: none;
	}
}

/* Screen reader only class */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* ============================================
   Reduced Motion Support
   ============================================ */

@media (prefers-reduced-motion: reduce) {
	.rto-calendar *,
	.rto-calendar *::before,
	.rto-calendar *::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	.rto-calendar__day:hover {
		transform: none;
	}
}

/* ============================================
   Day State Classes (Applied dynamically)
   ============================================ */

/* Today highlighting */
.rto-calendar-day--today {
	font-weight: var(--rto-calendar-font-weight-semibold);
	border-color: var(--rto-calendar-primary);
	box-shadow: 0 0 0 1px var(--rto-calendar-primary);
}

/* Working day state */
.rto-calendar-day--working {
	background-color: var(--rto-calendar-primary-light);
	border-color: var(--rto-calendar-primary);
	color: var(--rto-calendar-primary);
}

/* OOF (Out of Office) state */
.rto-calendar-day--oof {
	background-color: var(--rto-calendar-secondary-light);
	border-color: var(--rto-calendar-secondary);
	color: var(--rto-calendar-secondary);
}

/* Holiday state */
.rto-calendar-day--holiday {
	background-color: var(--rto-calendar-holiday-bg);
	border-color: var(--rto-calendar-holiday-border);
	color: var(--rto-calendar-holiday-text);
	font-weight: var(--rto-calendar-font-weight-semibold);
}

/* ============================================
   Icon Positioning
   ============================================ */

.rto-calendar-day__icon {
	font-size: 0.85em;
	position: absolute;
	pointer-events: none;
	z-index: 2;
}

.rto-calendar-day__icon--above {
	top: 2px;
}

.rto-calendar-day__icon--below {
	bottom: 2px;
}

.rto-calendar-day__icon--left {
	left: 2px;
}

.rto-calendar-day__icon--right {
	right: 2px;
}
